!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}({0:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),o(t,[{key:"render",value:function(){return React.createElement("div",{className:"row",id:"preloader"},React.createElement("div",{className:"progress s4 offset-s4 col"},React.createElement("div",{className:"indeterminate"})))}}]),t}(React.Component);t.a=c},1:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){var e={};return e.url=window.location.href,e.url_split=e.url.split("/"),e.url=window.location.href,e.split=e.url.split("/"),e.website=e.split[0]+"//"+e.split[2],e.dashboard=e.website+"/dashboard/",e.experiments=e.website+"/apis/experiments/",e.measurement=e.website+"/apis/measurements/",e.experiment=e.website+"/apis/experiment/",e.user_specific=e.website+"/apis/user-specific/",e.user_experiment=e.website+"/apis/user-experiment",e.user_specific_name=e.website+"/apis/user-specific-name/",e.user=e.website+"/apis/user-experiment/",e.registration=e.website+"/apis/registration/",e.groups=e.website+"/apis/groups/",e.textanalyzer=e.website+"/apis/textanalyzer/",e.textdata=e.website+"/apis/textdata/",e.cognitiveloadrevision=e.webseite+"apis/cognitiveloadrevision/",e.csv_text_data=e.website+"/csv_text_export/",e.single_experiment=e.website+"/experiment/",e.run_experiment=e.website+"/run-experiment/",e}()},12:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),c=n(2),s=n(1),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={myText:"",data:null,loading:!1},n.analyzeText=n.analyzeText.bind(n),n.renderCMap=n.renderCMap.bind(n),n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=React.createElement("button",{onClick:this.analyzeText,className:"waves-effect waves-light btn",id:"editor-button"},"Analyze my text");return React.createElement("div",null,React.createElement("div",{id:"visualization-button"},this.state.loading?React.createElement(o.a,null):t),React.createElement("div",{className:"row",id:"editor-landing-page"},React.createElement("div",{id:"editor-medium-editor",className:"col s11 m4 offset-m1"},React.createElement("div",{id:"editor-textinput",ref:function(t){e.textInput=t},dangerouslySetInnerHTML:this.returnInnerHTML()})),React.createElement("div",{id:"cmap",ref:function(t){e.cmap=t},className:"col s11 m7"},React.createElement("svg",{ref:function(t){e.svg=t}}))))}},{key:"returnInnerHTML",value:function(){return{__html:this.state.myText}}},{key:"analyzeText",value:function(){var e=this;this.setState({loading:!0}),d3.select(this.svg).html("");var t=this.textInput.innerHTML,n=Object(c.a)(t);fetch(s.a.textanalyzer,{method:"POST",credentials:"same-origin",body:JSON.stringify({text:n}),headers:new Headers({"Content-Type":"application/json"})}).then(function(e){return e.json()}).catch(function(e){console.log(e)}).then(function(t){console.log(t),e.setState({data:t,loading:!1,myText:t.html_string},function(){e.renderCMap()})})}},{key:"renderCMap",value:function(){var e=this,t=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n=this.cmap.offsetWidth-20,r=this.cmap.offsetHeight,a=d3.select(this.svg).attr("width",n).attr("height",r),i=a.append("g").attr("width",n).attr("height",r),o=(a.append("rect").attr("class","overlay").attr("width",n).attr("height",r).style("fill","red").style("opacity",0),a.append("line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0).style("stroke","red").style("stroke-width","2"),d3.scaleLinear().domain([0,1]).range([0,n]),d3.forceSimulation(e.state.data.nodes).force("charge",d3.forceManyBody().strength(-250)).force("link",d3.forceLink(e.state.data.links).distance(80).id(function(e){return e.id})).force("center",d3.forceCenter(n/2,r/2)).force("collision",d3.forceCollide().radius(50)).force("x",d3.forceX()).force("y",d3.forceY()).stop());d3.timeout(function(){for(var n=0,r=Math.ceil(Math.log(o.alphaMin())/Math.log(1-o.alphaDecay()));n<r;++n)o.tick();var a=(i.append("g").attr("class","links").selectAll("line").data(e.state.data.links).enter().append("line").attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}).style("stroke-dasharray",function(e){if("between"==e.device)return"5,5"}).style("d",function(e){if("between"==e.device)return"M5 20 l215 0"}),i.append("g").attr("class","nodes").selectAll(".node").data(e.state.data.nodes).enter().append("g").attr("id",function(e,t){return"node-"+e.id}).attr("class","node").attr("transform",function(e){return"translate("+e.x+","+e.y+")"}));a.append("circle").attr("r",10).attr("cx",0).attr("cy",0).attr("fill",function(n,r){return t[e.state.data.wordClusterIndex[n.id]]}),a.append("text").attr("dy",-8).attr("dx",10).style("opacity",.8).attr("text-anchor","start").text(function(e){return e.id})})}},{key:"componentDidMount",value:function(){new MediumEditor(this.textInput,{toolbar:!1,placeholder:{text:"Your text goes here. Push the button to see your visualization.",hideOnClick:!0}})}}]),t}(React.Component);ReactDOM.render(React.createElement(u,null),document.getElementById("landingpage"))},2:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.getElementsByTagName("p"),r="",a=0;a<n.length;a++)r+=n[a].textContent+" ",r+="[LINEBREAK]";return r=r.replace(/&#8660/g,""),r=r.replace(/â‡”/g,""),r=r.replace("[LINEBREAK] [LINEBREAK]","[LINEBREAK]")}}});